// é¸¡æ±¤æ–‡æ¡ˆç”Ÿæˆæ¨¡å—
class MotivationGenerator {
  constructor() {
    this.motivations = [
      "ä»Šå¤©çš„ä½ æ¯”æ˜¨å¤©çš„ä½ æ›´æ£’ï¼ç»§ç»­åŠ æ²¹ï¼ŒçŒ«çŒ«ä¸ºä½ éª„å‚²ï¼ğŸ±âœ¨",
      "å­¦ä¹ ä½¿æˆ‘å¿«ä¹ï¼Œæˆé•¿ä½¿æˆ‘å¼ºå¤§ï¼ä½ æ­£åœ¨æˆä¸ºæ›´å¥½çš„è‡ªå·±ï¼ğŸŒŸ",
      "æ¯ä¸€è¡Œä»£ç éƒ½æ˜¯è¿›æ­¥ï¼Œæ¯ä¸€ä¸ªç®—æ³•éƒ½æ˜¯æˆé•¿ï¼ç¼–ç¨‹çŒ«ä¸ºä½ ç‚¹èµï¼ğŸ’»ğŸ±",
      "çŸ¥è¯†å°±æ˜¯åŠ›é‡ï¼Œå­¦ä¹ å°±æ˜¯é­”æ³•ï¼ä½ å·²ç»æŒæ¡äº†æˆé•¿çš„ç§˜è¯€ï¼ğŸ”®",
      "ä»Šå¤©çš„åŠªåŠ›æ˜¯æ˜å¤©çš„æ”¶è·ï¼ç»§ç»­å‰è¿›ï¼Œèƒœåˆ©å°±åœ¨å‰æ–¹ï¼ğŸ†",
      "å­¦ä¹ è·¯ä¸Šä¸å­¤å•ï¼Œæœ‰çŒ«çŒ«é™ªä¼´ä½ ï¼ä¸€èµ·å˜å¾—æ›´ä¼˜ç§€å§ï¼ğŸ˜¸",
      "æ¯ä¸€æ¬¡ç‚¹å‡»éƒ½æ˜¯è¿›æ­¥ï¼Œæ¯ä¸€ä¸ªé¡µé¢éƒ½æ˜¯æˆé•¿ï¼ä½ å¤ªæ£’äº†ï¼ğŸ‘",
      "çŸ¥è¯†æ”¹å˜å‘½è¿ï¼Œå­¦ä¹ æ”¹å˜äººç”Ÿï¼ä½ æ­£åœ¨ä¹¦å†™è‡ªå·±çš„ä¼ å¥‡ï¼ğŸ“šâœ¨",
      "ä»Šå¤©çš„ä½ æ¯”æ˜¨å¤©æ›´èªæ˜ï¼Œæ¯”æ˜å¤©æ›´åŠªåŠ›ï¼ç»§ç»­åŠ æ²¹ï¼ğŸ’ª",
      "å­¦ä¹ æ˜¯ä¸€ç§ä¹ æƒ¯ï¼Œä¼˜ç§€æ˜¯ä¸€ç§é€‰æ‹©ï¼ä½ å·²ç»é€‰æ‹©äº†ä¼˜ç§€ï¼ğŸ¯",
      "æ¯ä¸€åˆ†é’Ÿçš„å­¦ä¹ éƒ½æ˜¯æŠ•èµ„ï¼Œæ¯ä¸€ä»½åŠªåŠ›éƒ½æœ‰å›æŠ¥ï¼ğŸ’°",
      "çŸ¥è¯†å°±æ˜¯è´¢å¯Œï¼Œå­¦ä¹ å°±æ˜¯èµšé’±ï¼ä½ æ­£åœ¨ç§¯ç´¯äººç”Ÿè´¢å¯Œï¼ğŸ’",
      "ä»Šå¤©çš„æ±—æ°´æ˜¯æ˜å¤©çš„æ”¶è·ï¼ç»§ç»­åŠªåŠ›ï¼ŒæˆåŠŸå°±åœ¨çœ¼å‰ï¼ğŸŒ±",
      "å­¦ä¹ ä½¿æˆ‘å¿«ä¹ï¼Œæˆé•¿ä½¿æˆ‘å¼ºå¤§ï¼ä½ æ­£åœ¨æˆä¸ºæ›´å¥½çš„è‡ªå·±ï¼ğŸŒŸ",
      "æ¯ä¸€æ¬¡æŒ‘æˆ˜éƒ½æ˜¯æœºä¼šï¼Œæ¯ä¸€æ¬¡å­¦ä¹ éƒ½æ˜¯æˆé•¿ï¼åŠ æ²¹ï¼ğŸš€",
      "çŸ¥è¯†å°±æ˜¯æ­¦å™¨ï¼Œå­¦ä¹ å°±æ˜¯ä¿®ç‚¼ï¼ä½ å·²ç»å¾ˆå‰å®³äº†ï¼âš”ï¸",
      "ä»Šå¤©çš„åŠªåŠ›æ˜¯æ˜å¤©çš„éª„å‚²ï¼ç»§ç»­å‰è¿›ï¼Œä½ æ˜¯æœ€æ£’çš„ï¼ğŸ…",
      "å­¦ä¹ è·¯ä¸Šä¸å­¤å•ï¼Œæœ‰çŒ«çŒ«ä¸ºä½ åŠ æ²¹ï¼ä¸€èµ·å˜å¾—æ›´å¼ºå¤§ï¼ğŸ˜º",
      "æ¯ä¸€æ¬¡è¿›æ­¥éƒ½æ˜¯èƒœåˆ©ï¼Œæ¯ä¸€æ¬¡å­¦ä¹ éƒ½æ˜¯æˆåŠŸï¼å¤ªæ£’äº†ï¼ğŸ‰",
      "çŸ¥è¯†å°±æ˜¯é­”æ³•ï¼Œå­¦ä¹ å°±æ˜¯æ–½æ³•ï¼ä½ å·²ç»æŒæ¡äº†æˆé•¿é­”æ³•ï¼ğŸ”®âœ¨"
    ];

    this.streakMotivations = {
      1: "ç¬¬ä¸€å¤©ï¼çŒ«çŒ«è›‹å‡ºç°äº†ï¼Œæ–°çš„å­¦ä¹ ä¹‹æ—…å¼€å§‹å•¦ï¼ğŸ£",
      10: "åšæŒåå¤©ï¼ŒçŒ«çŒ«æˆåŠŸå­µåŒ–ï¼ä¸€åªå¯çˆ±çš„å°çŒ«æ­£æœŸå¾…ä¸ä½ ä¸€èµ·æˆé•¿ï¼ğŸ˜¸",
      30: "åšæŒä¸‰åå¤©ï¼Œå°çŒ«é•¿æˆäº†å¤§çŒ«ï¼å®ƒçœ‹èµ·æ¥æ›´ä¸“æ³¨äº†ï¼ç»§ç»­åŠ æ²¹ï¼ğŸ˜¼",
      50: "äº”åå¤©ï¼ä½ çš„çŒ«çŒ«å·²ç»æˆäº†é”®ç›˜å¤§å¸ˆï¼è¿™æ°”åœºï¼Œæ˜¯çŒ«ç‹æ²¡é”™äº†ï¼ğŸ‘‘ğŸ±",
      100: "ä¸€ç™¾å¤©ï¼çŒ«ç¥é™ä¸´ï¼ä½ çš„æ¯…åŠ›æ— äººèƒ½åŠï¼ğŸ±âœ¨",
      365: "ä¸€å¹´ï¼ä½ æ˜¯çœŸæ­£çš„å­¦ä¹ ä¹‹ç¥ï¼ä½ çš„çŒ«çŒ«å·²ç»ä¸ºä½ å†™å¥½äº†ä¸€å¥—æ“ä½œç³»ç»Ÿï¼ğŸŠ"
    };
  }

  // è·å–éšæœºé¼“åŠ±æ–‡æ¡ˆ
  getRandomMotivation() {
    const index = Math.floor(Math.random() * this.motivations.length);
    return this.motivations[index];
  }

  // æ ¹æ® streak è·å–ç‰¹å®šé¼“åŠ±æ–‡æ¡ˆ
  getStreakMotivation(streak) {
    const milestones = Object.keys(this.streakMotivations)
      .map(Number)
      .sort((a, b) => b - a);
    
    for (const milestone of milestones) {
      if (streak >= milestone) {
        return this.streakMotivations[milestone];
      }
    }
    
    return this.getRandomMotivation();
  }

  // è·å–ç½‘ç«™ç‰¹å®šçš„é¼“åŠ±æ–‡æ¡ˆ
  getSiteSpecificMotivation(siteName) {
    const siteMotivations = {
      'LeetCode': [
        "ä»Šå¤©çš„ç®—æ³•é¢˜åˆè§£å†³äº†ä¸€ä¸ªï¼ä½ çš„é€»è¾‘æ€ç»´è¶Šæ¥è¶Šå¼ºäº†ï¼ğŸ§ ",
        "LeetCode åˆ·é¢˜ä¸­ï¼Œä»£ç èƒ½åŠ›è¹­è¹­æ¶¨ï¼ç»§ç»­åŠ æ²¹ï¼ğŸ’»",
        "ç®—æ³•é¢˜ç®—ä»€ä¹ˆï¼Œä½ æ¯”ç®—æ³•æ›´èªæ˜ï¼å¤ªæ£’äº†ï¼ğŸ¯"
      ],
      'Coursera': [
        "Coursera è¯¾ç¨‹å­¦ä¹ ä¸­ï¼ŒçŸ¥è¯†é¢è¶Šæ¥è¶Šå¹¿ï¼ğŸ“š",
        "åœ¨çº¿è¯¾ç¨‹çœŸæ£’ï¼Œä½ çš„å­¦ä¹ èƒ½åŠ›è¶…å¼ºï¼ğŸŒŸ",
        "Coursera è®©ä½ æˆä¸ºç»ˆèº«å­¦ä¹ è€…ï¼ç»§ç»­åŠ æ²¹ï¼ğŸ“"
      ],
      'YouTube': [
        "YouTube å­¦ä¹ è§†é¢‘çœŸæ£’ï¼Œä½ çš„è‡ªå­¦èƒ½åŠ›è¶…å¼ºï¼ğŸ“º",
        "è§†é¢‘å­¦ä¹ ä¹Ÿæ˜¯ä¸€ç§æŠ€èƒ½ï¼Œä½ å·²ç»æŒæ¡äº†ï¼ğŸ¬",
      ],
      'å“”å“©å“”å“©': [
        "Bç«™å­¦ä¹ åŒºçœŸæ£’ï¼Œä½ çš„å­¦ä¹ çƒ­æƒ…å¾ˆé«˜ï¼ğŸ“º",
        "è§†é¢‘å­¦ä¹ ä¹Ÿæ˜¯ä¸€ç§æŠ€èƒ½ï¼Œä½ å·²ç»æŒæ¡äº†ï¼ğŸ¬",
      ],
      'GitHub': [
        "GitHub ä»£ç ç®¡ç†ä¸­ï¼Œä½ çš„é¡¹ç›®è¶Šæ¥è¶Šæ£’ï¼ğŸ’»",
        "å¼€æºç²¾ç¥çœŸæ£’ï¼Œä½ æ­£åœ¨æˆä¸ºä¼˜ç§€çš„å¼€å‘è€…ï¼ğŸŒŸ",
        "ä»£ç ä»“åº“ç®¡ç†å¾—å¾ˆå¥½ï¼Œç»§ç»­åŠ æ²¹ï¼ğŸ“"
      ]
    };

    const motivations = siteMotivations[siteName] || this.motivations;
    const index = Math.floor(Math.random() * motivations.length);
    return motivations[index];
  }

  // è·å–ç»¼åˆé¼“åŠ±æ–‡æ¡ˆ
  getComprehensiveMotivation(streak, siteName) {
    // ä¼˜å…ˆä½¿ç”¨ streak é‡Œç¨‹ç¢‘æ–‡æ¡ˆ
    if (this.streakMotivations[streak]) {
      return this.streakMotivations[streak];
    }
    
    // å…¶æ¬¡ä½¿ç”¨ç½‘ç«™ç‰¹å®šæ–‡æ¡ˆ
    if (siteName) {
      return this.getSiteSpecificMotivation(siteName);
    }
    
    // æœ€åä½¿ç”¨éšæœºæ–‡æ¡ˆ
    return this.getRandomMotivation();
  }

  // ç”Ÿæˆä¸ªæ€§åŒ–é¼“åŠ±æ–‡æ¡ˆ
  generatePersonalizedMotivation(streak, siteName, isFirstTime = false) {
    let motivation = '';
    
    if (isFirstTime) {
      motivation = `æ¬¢è¿æ¥åˆ° ${siteName}ï¼ä»Šå¤©æ˜¯ä½ çš„ç¬¬ä¸€æ¬¡å­¦ä¹ ï¼ŒçŒ«çŒ«ä¸ºä½ åŠ æ²¹ï¼ğŸ±âœ¨`;
    } else {
      motivation = this.getComprehensiveMotivation(streak, siteName);
    }
    
    return motivation;
  }
}

// å¯¼å‡ºå®ä¾‹
const motivationGenerator = new MotivationGenerator(); 